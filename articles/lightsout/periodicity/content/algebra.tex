\section{Algebra}
We will formalize the process of chasing down the lights and prove all of our
observations. To begin we will introduce a matrix of some interest.

For all $c\in\N$ define the $2c\times 2c$ matrix $W_{c}$ with entries in
$\GF(q)$ by
\[
W_{c} := \left(
\begin{array}{cc}
  -E_{c} & I \\
  -I    & O \\
\end{array}
\right)
\]
where $O$ is the zero matrix, $I$ the identity matrix and $E_{c}$ is defined
as the $c\times c$ matrix with ones on the diagonal and the two main
sub-diagonals, and zeroes elsewhere.

For example

\[
E_{4} := \left(
\begin{array}{cccc}
  1 & 1 & 0 & 0 \\
  1 & 1 & 1 & 0 \\
  0 & 1 & 1 & 1 \\
  0 & 0 & 1 & 1 \\
\end{array}
\right)
\]

The reason we are looking at $W_{c}$ is that its powers tell us something about
the effect of chasing down the lights. In particular, if we have an $r \times c$
lights out puzzle, the $c \times c$ upper left sub-matrix of $W_{c}^{r}$ is
exactly the process of gathering the lights.

The first interesting fact is that $W_{c}$ is invertible.

\begin{lemma}
  $W_{c}$ is invertible for all $c\in\N$.
\end{lemma}

\begin{proof}
  \[
  \left(
  \begin{array}{cc}
    -E & I \\
    -I & O \\
  \end{array}
  \right)
  \cdot
  \left(
  \begin{array}{cc}
    O & -I  \\
    I & -E \\
  \end{array}
  \right)
  =
  \left(
  \begin{array}{cc}
    I & O \\
    O & I \\
  \end{array}
  \right)
  \]
\end{proof}

A consequence of the invertibility of $W_{c}$ is that the sequence of its powers
is periodic. This also proves our first observation, but we will have some more
to say about that.

\begin{theorem}
  The sequence $\left(W_{c}^{n}\right)_{n\in\N}$ is purely periodic.
\end{theorem}

\begin{proof}
  There are only finitely many different square matrices of size $2c$ over
  $\GF(q)$. So the sequence $\left(W_{c}^{n}\right)_{n\in\N}$ must
  become periodic. By the preceding lemma $W_{c}$ is invertible so the
  sequence is periodic from the start.
\end{proof}

As mentioned in \cite{leach17} there is a relation between the images of chasing
down the lights and Fibonacci polynomials. We find that relation in our
structure lemma.

\begin{lemma}[structure]
  There exists a sequence of $c \times c$ matrices
  $\left(T_{n}\right)_{n\in\N}$ such that
  \[
  W_{c}^{n}
  =
  \left(
  \begin{array}{cc}
     T_{n} &  T_{n-1} \\
    -T_{n-1} & -T_{n-2}   \\
  \end{array}
  \right)
  \]
  for all $k\in\N$.
\end{lemma}

\begin{proof}
  Define $T_{0} := I$, and for convenience $T_{-1} := O$ and
  $T_{n+1} := -E \cdot T_{n} - T_{n-1}$ for all $n\in\N$. So
  $T_{1} = -E \cdot I - O = -E$. 

  A number $n\in\N$ is called strong if and only if
  \[
  W_{c}^{n}
  =
  \left(
  \begin{array}{cc}
     T_{n} &  T_{n-1}  \\
    -T_{n-1} & -T_{n-2} \\
  \end{array}
  \right)
  \]

  Notice that
  $W_{c}^{1} = \left(\begin{smallmatrix} -E & I \\ -I & O \\\end{smallmatrix}\right) = \left(\begin{smallmatrix} T_{1} & T_{0} \\ -T_{0} & -T_{-1} \\\end{smallmatrix}\right)$
  so $1$ is strong.

  Assume that $k$ is strong. We will show that $k+1$ is strong as well.
  \[
  \begin{aligned}
  W_{c}^{k+1}
  & = W_{c} \cdot W_{c}^{k} \\
  & =
  \left(
  \begin{array}{cc}
    -E & I \\
    -I & O \\
  \end{array}
  \right)
  \cdot
  \left(
  \begin{array}{cc}
     T_{k} &  T_{k-1}  \\
    -T_{k-1} & -T_{k-2} \\
  \end{array}
  \right) \\
  & =
  \left(
  \begin{array}{cc}
    -E \cdot T_{k} - T_{k-1} & -E \cdot T_{k-1} - T_{k-2} \\
    -T_{k}                  & -T_{k-1}                  \\
  \end{array}
  \right) \\
  & =
  \left(
  \begin{array}{cc}
     T_{k+1} &  T_{k} \\
    -T_{k} & -T_{k-1} \\
  \end{array}
  \right) \\
  \end{aligned}
  \]

  By mathematical induction all natural numbers are strong, finishing the proof.
\end{proof}

With the structure lemma under our belt we can prove our first observation, i.e.
the sequence of the dimension of kernels is periodic.

\begin{proposition}[Observation 1]
  The sequence $\left(\dim \Ker P_{r,c}\right)_{r\in\N}$ is periodic.
\end{proposition}

\begin{proof}
  By the structure lemma, for all $r\in\N$,
  \[
  \dim\Ker P_{r,c}
  =
  \dim\Ker T_{r}
  \]

  By the periodicity of $(W_{c}^{r})_{r\in\N}$ we have the
  periodicity of $\left(\dim\Ker(P_{r,c}\right)_{r\in\N}$.
\end{proof}

It could be the case that the period of $\left(\dim\Ker(P_{r,c}\right)_{r\in\N}$
is a divisor of the period of $(W_{c}^{r})_{r\in\N}$. In fact, these periods do
not coincide. There is a relation which we will see shortly.

Next on our agenda is our second observation. The period repeats whenever the
maximum dimension is reached.

\begin{lemma}[Observation 2]
  $\dim\Ker P_{p-1,c} = c$ where $p$ is period of the sequence.
\end{lemma}

\begin{proof}
  We will be using the notation as defined by the structure lemma.

  Notice that there exists $k\in\N$ such that $W_{c}^{kp} = I$ and
  thus $W_{c}^{kp-1} = W_{c}^{-1} \cdot W_{c}^{kp} = W_{c}^{-1}$.
  Furthermore
  \[
  \dim\Ker P_{p-1,c}
  =
  \dim\Ker P_{kp-1,c}
  =
  \dim\Ker T_{kp-1}
  =
  \dim\Ker T_{-1}
  =
  \dim O
  = c
  \]
\end{proof}

Before we will dive deeper in the question if the period of both sequences
coincide, we will take a closer look at observation three. For this we need to
know the determinant of $W_{c}^{n}$ for all $n\in\N$.

\begin{lemma}
  $\det(W_{c}^{n}) = 1$ for all $n\in\N$.
\end{lemma}

\begin{proof}
  Note that $\det(W_{c}^{0}) = \det(I) = 1$ and
  \[
  \det(W_{c}) = \det
  \left(
  \begin{array}{cc}
    -E & I \\
    -I & O \\
  \end{array}
  \right)
  =
  \det(-E) \cdot \det(O) - \det(-I) \cdot \det(I)
  =
  1
  \]
  The lemma follows by multiplicativity of the determinant and
  by induction on $n$.
\end{proof}

This little fact will helps us establishing the proof of observation three.

\begin{theorem}[Observation 3]
  If for some $r\in\N$ we have $\dim\Ker P_{r,c} = c$ then
  \begin{itemize}
    \item $\dim\Ker P_{r-1,c} = 0$
    \item $\dim\Ker P_{r+1,c} = 0$
  \end{itemize}
\end{theorem}

\begin{proof}
  Let $r\in\N$ be such that $\dim\Ker P_{r,c} = c$; then
  \[
  W_{c}^{r}
  =
  \left(
  \begin{array}{cc}
     O    &  T_{r-1}  \\
    -T_{r-1} & -T_{r-2} \\
  \end{array}
  \right)
  \]
  and $1 = \det W_{c}^{r} = (\det T_{r-1})^{2}$, so $T_{r-1}$ is
  invertible.

  Note that
  $W_{c}^{r-1} = \left(\begin{smallmatrix} T_{r-1} & T_{r-2} \\-T_{r-2} & -T_{r-3} \\\end{smallmatrix}\right)$
  and
  $W_{c}^{r+1} = \left(\begin{smallmatrix} T_{r-1} & O \\ O & -T_{r-1} \\\end{smallmatrix}\right)$,
  hence both
  \begin{itemize}
    \item $\dim\Ker P_{r-1,c} = \dim\Ker T_{r-1} = 0$,
    \item $\dim\Ker P_{r+1,c} = \dim\Ker T_{r-1} = 0$.
  \end{itemize}
\end{proof}

\begin{lemma}
  $W_{c}$ and $W_{c}^{-1}$ are conjugates.
\end{lemma}

\begin{proof}
  We will conjugate $W=W_{c}$ by
  $C := \left(\begin{smallmatrix} O & I \\ I & O \\\end{smallmatrix}\right)$,
  which is its own inverse,
  \[
  \begin{aligned}
  C \cdot W \cdot C^{-1}
  & =
  \left(
  \begin{array}{cc}
    O & I \\
    I & O \\
  \end{array}
  \right)
  \cdot
  \left(
  \begin{array}{cc}
    -E & I \\
    -I & O \\
  \end{array}
  \right)
  \cdot
  \left(
  \begin{array}{cc}
    O & I \\
    I & O \\
  \end{array}
  \right) \\
  & =
  \left(
  \begin{array}{cc}
    -I & O \\
    -E & I \\
  \end{array}
  \right)
  \cdot
  \left(
  \begin{array}{cc}
    O & I \\
    I & O \\
  \end{array}
  \right) \\
  & =
  \left(
  \begin{array}{cc}
    O & -I \\
    I & -E \\
  \end{array}
  \right) \\
  & =
  W^{-1}
  \end{aligned}
  \]
\end{proof}

\begin{corollary}
  $W_{c}^{-n} =
  \left(\begin{smallmatrix} O & I \\ I & O \\\end{smallmatrix}\right)
  W_{c}^{n}
  \left(\begin{smallmatrix} O & I \\ I & O \\\end{smallmatrix}\right)$
\end{corollary}

\begin{proof}
  Clear.
\end{proof}

\begin{theorem}
  The sequence $\left(\dim\Ker P_{r,c}\right)_{r\in\N}$
  is almost palindromic.
\end{theorem}

\begin{proof}
  We will be studing the doubly-infinite sequence
  $(W_{c}^{z})_{z\in\Z}$.

  By the structure lemma we have, for every $r\in\N$,
  \[
  W_{c}^{r}
  =
  \left(
  \begin{array}{cc}
     T_{r} &  T_{r-1}  \\
    -T_{r-1} & -T_{r-2} \\
  \end{array}
  \right)
  \]

  and by the preceding corollary $W_{c}^{-r}$ equals
  \[
  \left(
  \begin{array}{cc}
    O & I \\
    I & O \\
  \end{array}
  \right)
  \cdot
  \left(
  \begin{array}{cc}
     T_{r} &  T_{r-1}  \\
    -T_{r-1} & -T_{r-2} \\
  \end{array}
  \right)
  \cdot
  \left(
  \begin{array}{cc}
    O & I \\
    I & O \\
  \end{array}
  \right)
  =
  \left(
  \begin{array}{cc}
    -T_{r-2}  & -T_{r-1} \\
     T_{r-1} & T_{r}     \\
  \end{array}
  \right);
  \]

  thus for all $r\in\N$
  \[
  W_{c}^{-(r+2)}
  =
  \left(
  \begin{array}{cc}
    -T_{r}  & -T_{r+1} \\
     T_{r+1} & T_{r+2} \\
  \end{array}
  \right).
  \]

  Hence
  \[
  \dim\Ker P_{r,c} =
  \dim\Ker T_{r} =
  \dim\Ker(-T_{r}) =
  \dim\Ker P_{-(r+2),c}.
  \]

  This proves the theorem.
\end{proof}
