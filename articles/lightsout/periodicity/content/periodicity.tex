\section{Periodicity}

The process of chasing down the lights is formalized in the following
manner.

For all $c\in\N$ define $W_{c} : \GF(q)^{2c} \rightarrow \GF(q)^{2c}$
as

\[
W_{c} := \left(
\begin{array}{cc}
  -E_{c} & I \\
  -I    & O \\
\end{array}
\right)
\]

where $O$ is the zero matrix, $I$ the identity and $E_{c}$ is defined
as

For example

\[
E_{c} := \left(
\begin{array}{cccc}
  1 & 1 & 0 & 0 \\
  1 & 1 & 1 & 0 \\
  0 & 1 & 1 & 1 \\
  0 & 0 & 1 & 1 \\
\end{array}
\right)
\]

\begin{lemma}
  $W_{c}$ is invertible for all $c\in\N$.
\end{lemma}

\begin{proof}
  \[
  \left(
  \begin{array}{cc}
    -E & I \\
    -I & O \\
  \end{array}
  \right)
  \cdot
  \left(
  \begin{array}{cc}
    O & -I  \\
    I & -E \\
  \end{array}
  \right)
  =
  \left(
  \begin{array}{cc}
    I & O \\
    O & I \\
  \end{array}			
  \right)
  \]
\end{proof}


\begin{lemma}
  $\det(W_{c}^{n}) = 1$ for all $n\in\N$.
\end{lemma}

\begin{proof}
  Note that $\det(W_{c}^{0}) = \det(I) = 1$ and 
  \[
  \det(W_{c}) = \det
  \left(
  \begin{array}{cc}
    -E & I \\
    -I & O \\
  \end{array}
  \right)
  =
  \det(-E) \cdot \det(O) - \det(-I) \cdot \det(I)
  =
  1
  \]
  So with the principle of mathematical induction we proof the lemma.
\end{proof}

\begin{theorem}
  The sequence $\left(W_{c}^{n}\right)_{n\in\N}$ is periodic.
\end{theorem}

\begin{proof}
  There are finitely many square matrices of size $2c$ over
  $\GF(q)$. So the sequence $\left(W_{c}^{n}\right)_{n\in\N}$ must
  repeat. By the preceding lemma $W_{c}$ is invertible so the
  sequence is periodic from the start.
\end{proof}

\begin{lemma}[$W$-structure]
  There exist a sequence of $c \times c$ matrices
  $\left(A_{n}\right)_{n\in\N}$ such that
  \[
  W_{c}^{k+1}
  =
  \left(
  \begin{array}{cc}
     A_{k+2} &  A_{k+1} \\
    -A_{k+1} & -A_{k}   \\
  \end{array}
  \right)  
  \]
  for all $k\in\N$.
\end{lemma}

\begin{proof}
  Define $A_{0} := O$, $A_{1} := I$ and 
  $A_{n+1} := -E \cdot A_{n} - A_{n-1}$ for all $n\in\N^{+}$. So 
  $A_{2} = -E \cdot I + O = -E$. 

  A number $n\in\N$ is called strong if and only if
  \[
  W_{c}^{n+1}
  =
  \left(
  \begin{array}{cc}
     A_{n+2} &  A_{n+1} \\
    -A_{n+1} & -A_{n}   \\
  \end{array}
  \right)  
  \]

  Notice that
  $W_{c}^{1} = \left(\begin{smallmatrix} -E & I \\ -I & O \\\end{smallmatrix}\right) = \left(\begin{smallmatrix} A_{2} & A_{1} \\ -A_{1} & -A_{0} \\\end{smallmatrix}\right)$
  so $0$ is strong.

  Assume that $k$ is strong. We will show that $k+1$ is strong as well.
  \[
  \begin{aligned}
  W_{c}^{k+1} 
  & = W \cdot W_{c}^{k} \\
  & = 
  \left(
  \begin{array}{cc}
    -E & I \\
    -I & O \\
  \end{array}
  \right)
  \cdot
  \left(
  \begin{array}{cc}
     A_{k+2} &  A_{k+1} \\
    -A_{k+1} & -A_{k}   \\
  \end{array}
  \right) \\
  & = 
  \left(
  \begin{array}{cc}
    -E \cdot A_{k+2} - A_{k+1} & -E \cdot A_{k+1} - A_{k} \\
    -A_{k+2}                  & -A_{k+1}                 \\
  \end{array}
  \right) \\
  & =
  \left(
  \begin{array}{cc}
     A_{k+3} &  A_{k+2} \\
    -A_{k+2} & -A_{k+1} \\
  \end{array}
  \right) \\
  \end{aligned}
  \]

  By applying the principle of mathematical induction all natural
  numbers are strong, finishing the proof.
\end{proof}

\begin{proposition}
  The sequence $\left(\dim\left(\Ker(P_{c,n})\right)\right)_{n\in\N}$
  is periodic.
\end{proposition}

\begin{proof}
  By the $W$-structure lemma
  \[
  \left(\dim\left(\Ker(P_{c,n})\right)\right)_{n\in\N} 
  = 
  \left(\dim\left(\Ker(A_{n+1})\right)\right)_{n\in\N}
  \]

  where $W_{c}^{n}=\left(\begin{smallmatrix} A_{n+1} & A_{n}  \\ -A_{n} & -A_{n-1} \\\end{smallmatrix}\right)$.
  Now  by the periodicity of $(W_{c}^{n})_{n\in\N}$ we have the
  periodicity of
  $\left(\dim\left(\Ker(P_{c,n})\right)\right)_{n\in\N}$.
\end{proof}

\begin{lemma}
  $\dim\left(\Ker(P_{c,p-1})\right) = c$ where $p$ is period of the sequence. 
\end{lemma}

\begin{proof}
  We will be using the notation as defined by the $W$-structure lemma.

  Notice that there exist a $k\in\N$ such that $W_{c}^{kp} = I$ and
  thus $W_{c}^{kp-1} = W_{c}^{-1} \cdot W_{c}^{kp} = W_{c}^{-1}$. 
  Furthermore
  \[
  \dim\left(\Ker(P_{c,p-1})\right)
  =
  \dim\left(\Ker(P_{c,kp-1})\right)
  =
  \dim\left(\Ker(A_{kp})\right) = \dim\left(O\right)
  = c
  \]
\end{proof}

\begin{lemma}
  If for $n\in\N$ we have $\dim\left(\Ker(P_{c,n})\right) = c$ then
  \begin{itemize}
    \item $\dim\left(\Ker(P_{c,n-1})\right) = 0$
    \item $\dim\left(\Ker(P_{c,n+1})\right) = 0$
  \end{itemize}
\end{lemma}

\begin{proof}
  Choose $n\in\N$ such that $\dim\left(\Ker(P_{c,n})\right) = c$ hence
  \[
  W_{c}^{n}
  =
  \left(
  \begin{array}{cc}
     O    &  A_{n}  \\
    -A_{n} & -A_{n-1} \\
  \end{array}
  \right)
  \]
  and $1 = \det(W_{c}^{n}) = \det(A_{n})^{2}$ so $A_{n}$ is
  invertible.

  Notice that 
  $W_{c}^{n-1} = \left(\begin{smallmatrix} A_{n} & A_{n-1} \\-A_{n-1} & -A_{n-2} \\\end{smallmatrix}\right)$
  and
  $W_{c}^{n+1} = \left(\begin{smallmatrix} A_{n} & O \\ O & -A_{n} \\\end{smallmatrix}\right)$
  hence both
  \begin{itemize}
    \item $\dim\left(\Ker(P_{c,n-1})\right) = \dim\left(\Ker(A_{n})\right) = 0$
    \item $\dim\left(\Ker(P_{c,n+1})\right) = \dim\left(\Ker(A_{n})\right) = 0$.
  \end{itemize}
\end{proof}

\begin{lemma}
  $W_{c}$ and $W_{c}^{-1}$ are conjugates.
\end{lemma}

\begin{proof}
  We will conjugate $W_{c}$ with 
  $C := \left(\begin{smallmatrix} O & I \\ I & O \\\end{smallmatrix}\right)$
  which is its own inverse
  \[
  \begin{aligned}
  C \cdot W \cdot C^{-1}
  & =
  \left(
  \begin{array}{cc}
    O & I \\
    I & O \\
  \end{array}
  \right)
  \cdot
  \left(
  \begin{array}{cc}
    -E & I \\
    -I & O \\
  \end{array}
  \right)
  \cdot
  \left(
  \begin{array}{cc}
    O & I \\
    I & O \\
  \end{array}
  \right) \\
  & =
  \left(
  \begin{array}{cc}
    -I & O \\
    -E & I \\
  \end{array}
  \right)
  \cdot
  \left(
  \begin{array}{cc}
    O & I \\
    I & O \\
  \end{array}
  \right) \\
  & =
  \left(
  \begin{array}{cc}
    0 & -I \\
    I & -E \\
  \end{array}
  \right) \\
  & =
  W^{-1}
  \end{aligned}
  \]
\end{proof}

\begin{corollary}
  $W^{-n} = 
  \left(\begin{smallmatrix} O & I \\ I & O \\\end{smallmatrix}\right) 
  W 
  \left(\begin{smallmatrix} O & I \\ I & O \\\end{smallmatrix}\right)$
\end{corollary}

\begin{proof}
  trivial
\end{proof}

\begin{remark}
  The effect of conjugating $W$ with 
  $\left(\begin{smallmatrix} O & I \\ I & O \\\end{smallmatrix}\right)$
  is a rotation of $180^{\degree}$.
\end{remark}

\begin{theorem}
  The sequence $\left(\dim\left(\Ker(P_{c,n})\right)\right)_{n\in\N}$
  is almost palindromic.
\end{theorem}

\begin{proof}
  We will be studing the double-infinite sequence
  $(W_{c}^{z})_{z\in\Z}$.

  By the $W$-structure lemma we have for every $n\in\N$
  \[
  W_{c}^{n+1}
  =
  \left(
  \begin{array}{cc}
     A_{n+2} &  A_{n+1} \\
    -A_{n+1} & -A_{n}   \\
  \end{array}
  \right)  
  \]

  and with the preceding corollary
  \[
  W_{c}^{-(n+1)}
  =
  \left(
  \begin{array}{cc}
    O & I \\
    I & O \\
  \end{array}
  \right)
  \cdot
  \left(
  \begin{array}{cc}
     A_{n+2} &  A_{n+1} \\
    -A_{n+1} & -A_{n}   \\
  \end{array}
  \right)  
  \cdot
  \left(
  \begin{array}{cc}
    O & I \\
    I & O \\
  \end{array}
  \right)
  =
  \left(
  \begin{array}{cc}
    -A_{n}  & -A_{n+1} \\
     A_{n+1} & A_{n+2} \\
  \end{array}
  \right)  
  \]

  thus for all $n\in\N$
  \[
  W_{c}^{-(n+3)}
  =
  \left(
  \begin{array}{cc}
    -A_{n+2}  & -A_{n+3} \\
     A_{n+3} & A_{n+4} \\
  \end{array}
  \right)
  \]

  Hence $\dim\left(\Ker(P_{c,n})\right) =
  \dim\left(\Ker(A_{n+1})\right) = 
  \dim\left(\Ker(-A_{n+1})\right) = 
  \dim\left(\Ker(P_{c,-(n+3)})\right)$.

  this proofs the theorem.
\end{proof}
